<ion-header>
  <headerbt></headerbt>
</ion-header>

<ion-content>

<ion-slides style="padding-top: 5px; display: none;" >
  <ion-slide *ngFor="let item of category; index as i"> </ion-slide>
</ion-slides>

<div text-center class="imgtamanho" [style.backgroundImage]="'url('+ link_img +')'">
    <!-- <img [src]="link_img" alt=""> -->
  </div>

  <div class="barra_preta">
      <div class="ajusteTitle"> {{categoria_atual?.name}}</div>

  </div>



  <!-- inicio cards -->
  <div padding style="padding-top:0">

    <div text-center style="position: absolute; width: 91.6%;">{{idx_etapa + 1 }} - {{total_cat.length}}</div>
    <!-- esse so mostra quando é a categoria zero -->
    <ion-grid *ngIf="idx_etapa == 0" no-padding style="margin-top:3px">
      <ion-row>
        <ion-col text-left (click)="goToSelectStage()">
          <div>
            <ion-icon name="arrow-back"></ion-icon> Voltar para: </div>

          <button ion-button small color="danger">
            {{name_sessao}} </button>

        </ion-col>
        <ion-col text-right (click)="goToSlideDireto(idx_etapa+1,category[idx_etapa+1].id)">
          <div> Ir para:
            <ion-icon name="arrow-forward" style="color: red;font-weight: 800;"></ion-icon>
          </div>

          <button ion-button small color="danger"> {{cat_2.name | slice:0:15}} </button>
        </ion-col>

      </ion-row>
    </ion-grid>

    <!--  se categoria >0  -->

<ion-grid *ngIf="idx_etapa > 0 && category" no-padding style="margin-top:3px">
  <ion-row>

    <ion-col text-left (click)="goToSlideDireto(idx_etapa-1, category[idx_etapa-1].id)">
      <div>
        <ion-icon name="arrow-back" style="color: red;font-weight: 800;"></ion-icon> Voltar para:
      </div>
      <button ion-button small color="danger">
          {{ category[idx_etapa-1].name | slice:0:15 }}
      </button>
    </ion-col>

    <ion-col *ngIf="idx_etapa < (total_cat.length-1) " text-right (click)="goToSlideDireto(idx_etapa+1,category[idx_etapa+1].id)">
      <div> Ir para:
        <ion-icon name="arrow-forward"  style="color: red;font-weight: 800;"></ion-icon>
      </div>
      <button ion-button small color="danger"> {{ category[idx_etapa+1].name | slice:0:15 }}</button>
    </ion-col>

    <ion-col *ngIf="idx_etapa == (total_cat.length-1) " text-right (click)="goToSlideDireto(0,category[0].id)">

      <div> Ir para:
        <ion-icon name="arrow-forward" style="color: red;font-weight: 800;"></ion-icon>
      </div>

      <button ion-button small color="danger" > INÍCIO </button>
    </ion-col>

  </ion-row>
</ion-grid>



    <ion-card *ngFor="let item of noticias">
      <ion-card-content (click)="goToPost(item.id)">
        <ion-card-title>
<b>{{item.title}} </b>
        </ion-card-title>

        <!-- <iframe width="100%" *ngIf="item?.youtube_link" height="215" [src]="item.youtube_link | youtube" frameborder="0" allow="autoplay; encrypted-media"
          allowfullscreen></iframe> -->
 

      <img width="100%" *ngIf="item?.youtube_link" src="https://img.youtube.com/vi/{{item.youtube_link}}/0.jpg"
/>
        <img *ngIf="!item?.youtube_link && item?.image" src="{{url_img}}conteudos/{{item.image}}" />

        <div innerHtml="{{ item?.content }}" class="alinhaTexto"></div>

      </ion-card-content>
    </ion-card>

    <div text-center *ngIf="noticias?.length === 0" style="margin-top: 20px;">
      {{msgZeroRes}}
    </div>

    <button *ngIf="atividades>0" ion-button round block (click)="goToProfissionais(idCategory)" style="padding: 24px 10px">
      <ion-icon name="search" style="margin-right: 5px"></ion-icon> ENCONTRE </button>





  </div>
</ion-content>
